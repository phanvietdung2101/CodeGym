<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        let a = new Array();
        let count = 0;

        function init(n) {
            for(let i = 0; i < n; i++){
                a.push(Math.round(Math.random() * 1000));
            }
        }

        function show(n) {
            for(let i = 0; i < n; i++){
                console.log(i + " : " + a[i]);
            }
        }

        function sequentialSearch(x,n)
        {
            let indArr = new Array();
            for(let i = 0; i < n; i++){
                if(a[i] == x){
                    indArr.push(i);
                }
            }
            return indArr;
        }

        function binarySearch(x,i,j) {
            if(i > j){
                return -1;
            }
            let m = Math.round((i+j)/2);
            if(a[m] == x){
                return m;
            }
            if(a[m] > x){
                j = m;
            } else {
                i = m;
            }

            return  binarySearch(x, i, j);  // Gọi đệ quy
        }

        function main() {
            count = prompt("Nhap so phan tu cua mang");
            count = parseInt(count);
            init(count);
            show(count);

            // a.sort(function (a,b) {
            //     return a - b;
            // });
            // // TIm kiem phan tu
            // let x = prompt("nhap gia tri can tim:");
            // x = parseInt(x);
            // let pos = sequentialSearch(x,count);
            // if(pos.length != 0){
            //     let str = "tim thay tai vi tri: ";
            //     for(let i in pos)
            //         str += pos[i] + ", ";
            //     alert(str);
            // } else {
            //     alert("khong tim thay!")
            // }
            // //Tim kiem nhi phan
            //
            // let bPos = binarySearch(x,0,count - 1);
            // if(bPos == -1){
            //     alert("khong tim thay");
            // } else {
            //     alert("tim thay tai vi tri " + bPos)
            // }

            quick(a,0,9);
            console.log("sau khi sap xep");
            show(count);
        }

        //Sap xep

        //Sap xep lua chon selection
        function selectionSort() {
            let i, j, tmp;
            let min, pMin;

            for(i=0;i < count - 1;i++)
            {
                min = a[i];
                pMin = i;
                for(j = i + 1;j < count; j++){
                    if(a[j] < min)
                    {
                        min = a[j];
                        pMin = j;
                    }
                }
                if(a[i] != min)
                {
                    tmp = a[i];
                    a[i] = a[pMin];
                    a[pMin] = tmp;
                }
            }
        };


        //Sap xep chen

        function insertionSort() {
            let i, j, min;

            for(i=0;i<a.length - 1;i++)
            {
                min = a[a.length - 1];
                for(j = a.length - 1; j>i; j--)
                {
                    if(a[j-1] < min)
                    {
                        a[j] = min;
                        min = a[j-1];
                    }
                    else a[j] = a[j-1]
                }
                a[i]= min;
            }
        }

        function bubbleSort(){
            let i,j,tmp;
            for(i = a.length - 1; i>0;i--)
            {
                for(j=0;j<i;j++)
                {
                    if(a[j] > a[j+1]){
                        tmp = a[j];
                        a[j] = a[j+1];
                        a[j+1] = tmp;
                    }
                }
            }
        }

        // function partition(l,r) {
        //     let k,i,j,pos,tmp;
        //     pos = Math.round((l + r) / 2);
        //     let posVal = a[pos];
        //     i = l;
        //     j = r;
        //
        //     while(i<j){
        //         while(a[i] < posVal){
        //             i++;
        //         }
        //         while(a[j] >= posVal){
        //             j--;
        //         }
        //         if(i < j)
        //         {
        //             tmp = a[i];
        //             a[i] = a[j];
        //             a[j] = tmp;
        //         }
        //     }
        //     // Đưa giá trị chốt về bên trái nhất của dãy con bên phải
        //     let min = a[i];
        //     let pMin = i;
        //     for(k = i + 1; k < r; k++){
        //         if(a[k] < min)
        //         {
        //             min = a[k];
        //             pMin = k;
        //         }
        //     }
        //     if(pMin != i){
        //         tmp = a[i];
        //         a[i] = a[pMin];
        //         a[pMin] = tmp;
        //     }
        //     return i;
        //
        // }
        // //sap xep nhnah
        // function quickSort(l,r) {
        //     if(l >= r)
        //         return;
        //     let m = partition(l,r);
        //     quickSort(l,m-1);
        //     quickSort(m+1,r);
        // }

        function insert() {
            for(let i=1;i<a.length;i++){
                let tmp = a[i];
                let j = i - 1;
                while(j >= 0 && a[j] > tmp){
                    a[j + 1] = a[j];
                    j--;
                }
                a[j+1] = tmp;
            }
        }

        function bubble() {
            let tmp;
            for(let i=0;i<a.length - 1;i++){
                for(let j=0;j<  a.length-i-1;j++){
                    if(a[j] > a[j+1]){
                        tmp = a[j];
                        a[j] = a[j+1];
                        a[j+1] = tmp;
                    }
                }
            }
        }


        function partition(arr,l,r) {
            let pivot = arr[r];
            let i = l - 1;

            for(let j = l; j < r ; j++){
                if(arr[j] <= pivot){
                    i++;
                    let tmp = arr[i];
                    arr[i] = arr[j];
                    arr[j] = tmp;
                }
            }
            arr[r] = arr[i+1];
            arr[i+1] = pivot;
            return (i+1);
        };

        function quick(arr,l,r) {
            if (l >= r) {
                return;
            }
            let pi = partition(arr,l, r);
            quick(arr,l, pi - 1);
            quick(arr,pi + 1, r);
        }

        main();




    </script>
</head>
<body>

</body>
</html>